<!DOCTYPE html>
<!-- _layouts/distill.html -->
<html>
  <head>        
    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Hamees | Git Objects 101: The Fundamentals of Git's Internal Architecture (Part 1 of 3)</title>
    <meta name="author" content="Sayed Hamees Ul Hasan" />
    <meta name="description" content="Series of articles explaining the fundamental components of Git" />


    <!-- Bootstrap & MDB -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />

    <!-- Styles -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸª¼</text></svg>">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://hamees-sayed.github.io/blog/2023/git-p1/">

    <!-- Dark Mode -->
    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    <!-- Distill js -->
    <script src="/assets/js/distillpub/template.v2.js"></script>
    <script src="/assets/js/distillpub/transforms.v2.js"></script>
    
     <style>
      d-article d-contents {
        align-self: start;
        grid-column: 1 / 4;
        grid-row: auto / span 3;
        width: max(70%, 300px);
        margin-right: 0px;
        margin-top:  0em;
        display: grid;
        grid-template-columns:
          minmax(8px, 1fr) [toc] auto
          minmax(8px, 1fr) [toc-line] 1px
          minmax(32px, 2fr );
      }
      d-article d-contents nav {
        grid-column: toc;
      }
      d-article d-contents .figcaption {
        line-height: 1.4em;
      }
      d-article d-contents .toc-line {
        border-right: 1px solid rgba(0, 0, 0, 0.1);
        grid-column: toc-line;
      }

      b i {
        display: inline;
      }

      d-article d-contents {
        align-self: start;
        grid-column: 1 / 4;
        grid-row: auto / span 4;
        justify-self: end;
        margin-top: 0em;
        padding-right: 3em;
        padding-left: 2em;
        border-right: 1px solid rgba(0, 0, 0, 0.1);
      }

      d-contents nav h3 {
        margin-top: 0;
        margin-bottom: 1em;
      }

      d-contents nav div {
        color: rgba(0, 0, 0, 0.8);
        font-weight: bold;
      }

      d-contents nav a {
        color: rgba(0, 0, 0, 0.8);
        border-bottom: none;
        text-decoration: none;
      }

      d-contents ul {
        padding-left: 1em;
      }

      d-contents nav ul li {
        margin-bottom: 0.25em;
      }

      d-contents nav a:hover {
        text-decoration: underline solid rgba(0, 0, 0, 0.6);
      }

      d-contents nav ul {
        margin-top: 0;
        margin-bottom: 6px;
      }

      d-contents nav > div {
        display: block;
        outline: none;
        margin-bottom: 0.8em;
      }

      d-contents nav > div > a {
        font-size: 13px;
        font-weight: 600;
      }


      d-contents nav > ul > li > a:hover {
        text-decoration: none;
      }


    @media (max-width: 1300px) {
      d-article d-contents {
        justify-self: start;
        align-self: start;
        grid-column-start: 3;
        grid-column-end: -3;
        padding-bottom: 0.5em;
        margin-bottom: 1em;
        padding-top: 0.5em;
        width: 100%;
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        border-left: 1px solid rgba(0, 0, 0, 0.1);
        border-top: 1px solid rgba(0, 0, 0, 0.1);
        border-bottom-width: 1px;
        border-bottom-style: solid;
        border-bottom-color: rgba(0, 0, 0, 0.1);
      }
    }
    </style>
  </head>

  <d-front-matter>
    <script async type="text/json">{
      "title": "Git Objects 101: The Fundamentals of Git's Internal Architecture (Part 1 of 3)",
      "description": "Series of articles explaining the fundamental components of Git",
      "published": "November 5, 2023",
      "authors": [
        {
          "author": "Hamees Ul Hasan Sayed",
          "authorURL": "https://hamees-sayed.github.io/",
          "affiliations": [
            {
              "name": "",
              "url": ""
            }
          ]
        }
        
      ],
      "katex": {
        "delimiters": [
          {
            "left": "$",
            "right": "$",
            "display": false
          },
          {
            "left": "$$",
            "right": "$$",
            "display": true
          }
        ]
      }
    }</script>
  </d-front-matter>

  <body class="fixed-top-nav">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="https://hamees-sayed.github.io/">
              Sayed <span class="font-weight-bold">Hamees Ul Hasan</span>
          </a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item active">
                <a class="nav-link" href="/blog/">blog</a>
              </li>

              <!-- Other pages -->
              <li class="nav-item dropdown ">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">academics</a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="/courses">courses</a>
                  <a class="dropdown-item" href="/publication">publication</a>
                </div>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/_pages/cv/">cv</a>
              </li>
              <li class="nav-item dropdown ">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">misc</a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="/links">links</a>
                  <a class="dropdown-item" href="/gallery">gallery</a>
                </div>
              </li>

              <!-- Toogle theme mode -->
              <div class="toggle-container">
                <a id="light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </a>
              </div>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <!-- Content -->
    <div class="post distill">

      <d-title>
        <h1>Git Objects 101: The Fundamentals of Git's Internal Architecture (Part 1 of 3)</h1>
        <p>Series of articles explaining the fundamental components of Git</p>
      </d-title>

      <d-byline></d-byline>

      <d-article>
        

        <d-contents>
  <nav class="l-text figcaption">
  <h3>Table of Content</h3>
    <div><a href="#heading-introduction">Introduction</a></div>
    <div><a href="#heading-blob">Blob</a></div>
    <div><a href="#heading-tree">Tree</a></div>
    <div><a href="#heading-commit">Commit</a></div>
    <div><a href="#heading-conclusion">Conclusion</a></div>
    <!-- <ul>
       <li><a href="#subsection">Subsection</a></li>
    </ul> -->
  </nav>
</d-contents>
<p><br></p>

<p>Many of us use Git on a daily basis but how many of us know what goes on under the hood? For example:</p>
<ol>
<li>
<p>What happens when we do <code>git commit</code>?</p>
</li>
<li>
<p>What are git branches?</p>
</li>
<li>
<p>What are git trees and blobs?</p>
</li>
<li>
<p>What is SHA and why is it used?</p>
</li>
</ol>
<p>In this 3 part series, I'll try to answer each one of these questions briefly.</p>
<h2 id="heading-introduction">Introduction</h2>
<p>In this blog, I'll cover the main 3 objects, namely Blog, Tree and Commit. Let us start by thinking of Git as a repository for maintaining a file system, and more specifically snapshots of that file system.</p>
<p>A file system usually begins with a root directory which contains other directories, these directories contain other directories and so on...</p>
<p><img loading="lazy" src="https://project-assets.showwcase.com/1065x/11561/1668869179559-verzeichnisstruktur-layer-example-1.png?type=webp" alt="img"></p>
<h1 id="heading-blob">Blob</h1>
<p>In Git, the contents of files are stored in objects called blobs - Binary Large Objects. The difference between blobs and files is that, unlike blobs, files contain metadata, for example, it remembers when the file was created. Blobs on the other hand are just content, binary streams of data (F3 H2 45 9D).</p>
<p>A blob doesn't register its creation date, its name or basically anything but its content. Every blob in Git is identified by its SHA-1 Hash (We'll understand SHA-1 and Hashing algorithm in Part 2 of this series). SHA-1 Hash consists of 20 bytes, usually represented by 40 characters in hexadecimal form. In this blog, I'll represent the hash only by its first 5 characters.</p>
<p><img loading="lazy" src="https://project-assets.showwcase.com/1065x/11561/1668871542638-Screenshot%2520from%25202022-11-19%252020-55-27.png?type=webp" alt="img"></p>
<h1 id="heading-tree">Tree</h1>
<p>In Git, the equivalent of a directory is a Tree, a Tree is basically a directory referring to blobs as well as other trees. Trees are identified by their SHA-1 Hashes. Referring to these objects (blobs, trees and commits) happens via the SHA-1 Hash of the object. Note that the Tree - <em>ABCD5</em> points to the blobs <em>K81R4</em> as <em>photo.png and J72I5</em> as <em>blog.txt.</em></p>
<p><img loading="lazy" src="https://project-assets.showwcase.com/1065x/11561/1668871592271-Screenshot%2520from%25202022-11-19%252020-56-19.png?type=webp" alt="img"></p>
<p>This diagram is equivalent to a file system with the root directory that has two files, <em>photo.png</em> and <em>blog.txt.</em></p>
<p>Now it's time to take a snapshot of that file system and store all the files that existed at that time along with their contents.</p>
<h1 id="heading-commit">Commit</h1>
<p>In Git a snapshot is a commit, a commit object includes a pointer to the main tree which is the root directory. The commit also stores metadata such as the commit author's name, a commit message and commit time. Of course, commit objects are also identified by their SHA-1 Hashes, these are the hashes we are used to seeing when we use <code>git log</code>.</p>
<p>Note that every commit stores the entire snapshot, not just differences from the previous commit.</p>
<p><img loading="lazy" src="https://project-assets.showwcase.com/1065x/11561/1668872306616-Screenshot%2520from%25202022-11-19%252021-08-19.png?type=webp" alt="img"></p>
<p>How does that work? Wouldn't that mean that we have to store a lot of data on every single commit? Well, let's examine what happens when we change the contents of a file.</p>
<p>Say that we edit blog.txt and add <em>.com</em> to it, that is we change the content from <em>Showwcase</em> to <a target="_blank" href="http://Showwcase.com" rel="noopener noreferrer"><em><a href="http://Showwcase.com" class="autolinkedURL autolinkedURL-url" target="_blank" rel="noopener noreferrer">Showwcase.com</a></em></a><em>.</em></p>
<p><img loading="lazy" src="https://project-assets.showwcase.com/1065x/11561/1668873101306-Screenshot%2520from%25202022-11-19%252021-21-14.png?type=webp" alt="img"></p>
<p>Well, this change would mean that we have a new blob with a new SHA-1 Hash, this makes sense as the content of this new <em>blog.txt</em> which contains <a target="_blank" href="http://Showwcase.com" rel="noopener noreferrer"><em><a href="http://Showwcase.com" class="autolinkedURL autolinkedURL-url" target="_blank" rel="noopener noreferrer">Showwcase.com</a></em></a> is different from the previous <em>blog.txt</em> which contained <em>Showwcase</em>. Since we have a new Hash, the tree listing should also change, after all our tree no longer points to <em>J72I5</em> Hash but rather the new blob with Hash <em>C75N6.</em> As we change the tree's content we also change its Hash and now since the hash of the main working tree is changed, consequently, we are almost ready to create a new commit object. And it seems like we are going to store the entire file system once more, but is that really necessary?</p>
<p><img loading="lazy" src="https://project-assets.showwcase.com/1065x/11561/1668872575348-Screenshot%2520from%25202022-11-19%252021-12-42.png?type=webp" alt="img"></p>
<p>Actually, some objects, specifically <em>photo.png</em> haven't changed since the last commit. So as long as the object doesn't change, we don't store it again. In this case, we don't need to store hash <em>K81R4 once more.</em></p>
<p>At this point, we can create our commit object. Since this commit is not the first commit, it has a parent, <em>commits - B4848</em>, which we committed earlier.</p>
<h1 id="heading-conclusion">Conclusion</h1>
<p>We learned three Git Objects:</p>
<ul>
<li>
<p>Blob - It consists of the contents of a file.</p>
</li>
<li>
<p>Tree - A directory listing of Blobs and Trees.</p>
</li>
<li>
<p>Commit - It is a snapshot of the working tree.</p>
</li>
</ul>
<p>In the first part of the blog, we covered the basic objects of git. In the next part, we'll learn about SHA-1 Hash Algorithm and understand how it works inside Git. After that, we'll understand branches and how they relate to the terms we covered in this blog.</p>

      </d-article>

      <d-appendix>
        <d-footnote-list></d-footnote-list>
        <d-citation-list></d-citation-list>
      </d-appendix>

    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        Â© Copyright 2024 Sayed Hamees Ul Hasan. Powered by <a href="http://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme.
Last updated: January 06, 2024.
      </div>
    </footer>

  </body>

  

  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>

  <script src="/assets/js/distillpub/overrides.js"></script>

</html>
